(this["webpackJsonpshopping-app"]=this["webpackJsonpshopping-app"]||[]).push([[0],{149:function(e,t,a){},150:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(33),i=a.n(r),s=(a(149),a(16)),d=a(73),o=a(22),l=(a(150),a(230)),j=a(258),h=a(241),b=a(240),u=a(168),p=a(106),x=a.n(p),O=a(233),m=a(237),f=a(236),g=a(232),y=a(234),v=a(235),S=a(125),L=a(1),C=Object(l.a)({table:{minWidth:700}});function I(e){return"".concat(e.toFixed(2))}function N(e){var t=C(),a=e.state.masterListArray.filter((function(e){return e.isSelected&&e.count>0})),c=a.reduce((function(e,t){return t.price*t.count+e}),0),n=.07*c,r=n+c;return Object(L.jsx)(g.a,{component:S.a,children:Object(L.jsxs)(O.a,{className:t.table,"aria-label":"spanning table",children:[Object(L.jsxs)(y.a,{children:[Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{align:"center",colSpan:3,children:"Details"}),Object(L.jsx)(f.a,{align:"right",children:"Price"})]}),Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{children:"Item Name"}),Object(L.jsx)(f.a,{align:"right",children:"Qty."}),Object(L.jsx)(f.a,{align:"right",children:"Unit"}),Object(L.jsx)(f.a,{align:"right",children:"Sum"})]})]}),Object(L.jsxs)(m.a,{children:[a.map((function(e){return Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{children:e.productName}),Object(L.jsx)(f.a,{align:"right",children:e.count}),Object(L.jsx)(f.a,{align:"right",children:e.price}),Object(L.jsx)(f.a,{align:"right",children:I(e.price*e.count)})]},e.productId)})),Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{rowSpan:3}),Object(L.jsx)(f.a,{colSpan:2,children:"Subtotal"}),Object(L.jsx)(f.a,{align:"right",children:I(c)})]}),Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{children:"Tax"}),Object(L.jsx)(f.a,{align:"right",children:"".concat((.07*100).toFixed(0)," %")}),Object(L.jsx)(f.a,{align:"right",children:I(n)})]}),Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{colSpan:2,children:"Total"}),Object(L.jsx)(f.a,{align:"right",children:I(r)})]})]})]})})}var w=a(265),A=a(238),k=a(259),T=a(239),E=a(91),P=a.n(E),R=a(90),D=a.n(R),H=a(89),B="INCREMENT",F="DECREMENT",W="ADD_ITEMS",z="TOGGLE_TO_CART",_="UPDATE_CART",M="UPDATE_SEARCH",G="API_CALL_FAILED",Q=function e(t){Object(H.a)(this,e),this.productName=t.title,this.desc=t.description,this.count=1,this.isSelected=!1,this.image=t.image,this.productId=t.id,this.price=t.price,this.category=t.category},U=Object(l.a)({table:{minWidth:150}});function J(e){var t=U();return console.log("cartlistprops",e),Object(L.jsx)(g.a,{component:S.a,children:Object(L.jsxs)(O.a,{className:t.table,"aria-label":"simple table",children:[Object(L.jsx)(y.a,{children:Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{children:"Item Name"}),Object(L.jsx)(f.a,{align:"center",children:"Quantity"})]})}),Object(L.jsx)(m.a,{children:e.state.selectedItems.map((function(t){return Object(L.jsxs)(v.a,{children:[Object(L.jsx)(f.a,{component:"th",scope:"row",children:Object(L.jsx)(A.a,{control:Object(L.jsx)(k.a,{checked:t.isSelected,onChange:function(a){return e.dispatch({type:z,id:t.productId})},name:"checkedB",color:"primary"}),label:t.productName})}),Object(L.jsx)(f.a,{align:"center",children:Object(L.jsxs)("div",{children:[Object(L.jsx)(T.a,{"aria-label":"reduce",disabled:t.count<=0,onClick:function(a){return e.dispatch({type:F,id:t.productId})},children:Object(L.jsx)(D.a,{fontSize:"small"})}),t.count,Object(L.jsx)(T.a,{"aria-label":"increase",onClick:function(a){return e.dispatch({type:B,id:t.productId})},children:Object(L.jsx)(P.a,{fontSize:"small"})})]})})]},t.productId)}))})]})})}var $=Object(l.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));function q(e){var t=$(),a=n.a.useState(!0),c=Object(s.a)(a,2),r=c[0],i=c[1],d=function(e){return function(t,a){i(!!a&&e)}};return Object(L.jsxs)("div",{className:t.root,children:[Object(L.jsxs)(j.a,{expanded:"panel1"===r,onChange:d("panel1"),children:[Object(L.jsx)(b.a,{expandIcon:Object(L.jsx)(x.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(L.jsx)(u.a,{className:t.heading,children:"Added Items"})}),Object(L.jsx)(h.a,{children:Object(L.jsx)(J,{state:e.state,dispatch:e.dispatch})})]}),Object(L.jsxs)(j.a,{expanded:"panel2"===r,onChange:d("panel2"),children:[Object(L.jsx)(b.a,{expandIcon:Object(L.jsx)(x.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:Object(L.jsx)(u.a,{className:t.heading,children:"Payment summary"})}),Object(L.jsx)(h.a,{children:Object(L.jsxs)("div",{className:"payment-summary-container",children:[Object(L.jsx)(N,{state:e.state,dispatch:e.dispatch}),Object(L.jsx)("div",{className:"make-payment-button",children:Object(L.jsx)(w.a,{variant:"contained",children:"Make Payment"})})]})})]})]})}var K=a(257),V=a(245),X=a(264),Y=function(e){return Object(L.jsx)("div",{className:"cart-container",children:Object(L.jsx)(X.a,{maxWidth:"xl",children:0!==e.state.selectedItems.length?Object(L.jsx)(q,{state:e.state,dispatch:e.dispatch}):Object(L.jsx)(V.a,{sx:{width:"100%"},spacing:2,children:Object(L.jsx)(K.a,{severity:"info",children:"No item Selected Please select spme thing and come back"})})})})},Z=a(246),ee=a(247),te=a(250),ae=a(249),ce=a(248),ne=a(121),re=a.n(ne),ie=a(169),se=Object(l.a)({root:{maxWidth:250,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{minHeight:200},buttons:{display:"flex",flexDirection:"column"},buttonCount:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:"5px"},description:{height:"4em",textOverflow:"ellipsis",overflow:"hidden"}});var de=function(e){var t=se();return Object(L.jsxs)(Z.a,{className:t.root,children:[Object(L.jsxs)(ee.a,{children:[Object(L.jsx)(ce.a,{className:t.media,image:e.data.image,title:"Shoping image"}),Object(L.jsxs)(ae.a,{children:[Object(L.jsx)(u.a,{gutterBottom:!0,variant:"h6",component:"h2",children:e.data.productName}),Object(L.jsx)(u.a,{className:t.description,variant:"body2",color:"textSecondary",component:"p",children:e.data.desc}),Object(L.jsxs)(u.a,{gutterBottom:!0,variant:"h6",component:"h2",children:["$ : ",e.data.price]})]})]}),Object(L.jsxs)(te.a,{className:t.buttons,children:[Object(L.jsxs)("div",{className:t.buttonCount,children:[Object(L.jsx)("div",{children:Object(L.jsxs)(u.a,{variant:"body2",color:"textSecondary",component:"p",children:["Quantity: ",e.data.count]})}),Object(L.jsxs)("div",{children:[Object(L.jsx)(ie.a,{"aria-label":"delete",disabled:e.data.isSelected,onClick:function(t){return e.dispatch({type:B,id:e.data.productId})},children:Object(L.jsx)(P.a,{})}),Object(L.jsx)(ie.a,{"aria-label":"delete",disabled:e.data.count<=1||e.data.isSelected,onClick:function(t){return e.dispatch({type:F,id:e.data.productId})},children:Object(L.jsx)(D.a,{})})]})]}),Object(L.jsx)(T.a,{fullWidth:!0,variant:"contained",color:e.data.isSelected?"secondary":"primary",onClick:function(t){return e.dispatch({type:z,id:e.data.productId})},startIcon:Object(L.jsx)(re.a,{}),children:e.data.isSelected?"Remove from Cart":"Add to Cart"})]})]})},oe=a(253),le=a(256),je=a(262),he=a(122),be=a.n(he);var ue=function(e){return Object(L.jsx)(le.a,{fullWidth:!0,className:"search-field",id:"outlined-search",label:"Search field",type:"search",size:"large",margin:"normal",InputProps:{startAdornment:Object(L.jsx)(je.a,{position:"end",children:Object(L.jsx)(be.a,{})})},value:e.state.searchString,onChange:function(t){e.dispatch({type:M,value:t.target.value})}})},pe=a(266),xe=a(261);var Oe=function(e){return Object(L.jsx)(xe.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:e.show,children:Object(L.jsx)(pe.a,{color:"inherit"})})};var me=function(e){return Object(L.jsx)(V.a,{sx:{width:"100%"},spacing:2,children:Object(L.jsx)(K.a,{severity:"info",children:e.message})})},fe=function(e){return Object(L.jsx)("div",{className:"shoppingList-container",children:e.state.showLoader?Object(L.jsx)(Oe,{show:e.state.showLoader}):Object(L.jsx)(X.a,{maxWidth:"xl",children:Object(L.jsxs)(oe.a,{className:"shopping-grid",children:[Object(L.jsx)(ue,{state:e.state,dispatch:e.dispatch}),0===e.state.displayList.length?Object(L.jsx)(me,{message:"No Records Found! Try with a diffent Word"}):Object(L.jsx)(oe.a,{item:!0,xs:12,children:Object(L.jsx)(oe.a,{container:!0,justifyContent:"space-around",children:e.state.displayList.map((function(t){return Object(L.jsx)(oe.a,{padding:10,children:Object(L.jsx)(de,{dispatch:e.dispatch,data:t})},t.productId)}))})})]})})})},ge=a(254),ye=a(255),ve=Object(l.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var Se=function(e){var t=ve();return Object(L.jsx)(ge.a,{position:"sticky",children:Object(L.jsxs)(ye.a,{children:[Object(L.jsx)(u.a,{variant:"h6",className:t.title,children:e.isHome?"Home":"Cart"}),Object(L.jsx)(T.a,{color:"primary",onClick:function(){return e.setCurrentPage(!e.isHome)},children:e.isHome?Object(L.jsx)(d.b,{className:"route-buttonCss",to:"/cart",children:"Cart"}):Object(L.jsx)(d.b,{className:"route-buttonCss",to:"/",children:"Home"})})]})})},Le=a(18),Ce=a(27),Ie={count:0,masterListArray:[],displayList:[],selectedItems:[],searchString:"",showLoader:!0},Ne=function(e,t){switch(t.type){case W:var a=t.items.map((function(e){return new Q(e)}));return Object(Ce.a)(Object(Ce.a)({},e),{},{showLoader:!1,masterListArray:[].concat(Object(Le.a)(e.masterListArray),Object(Le.a)(a)),displayList:[].concat(Object(Le.a)(e.masterListArray),Object(Le.a)(a))});case G:return Object(Ce.a)(Object(Ce.a)({},e),{},{showLoader:!1});case B:var c=e.masterListArray.map((function(e){return e.productId===t.id&&e.count++,e}));return Object(Ce.a)(Object(Ce.a)({},e),{},{masterListArray:c,displayList:we(c,e.searchString)});case F:var n=e.masterListArray.map((function(e){return e.productId===t.id&&e.count--,e}));return Object(Ce.a)(Object(Ce.a)({},e),{},{masterListArray:n,displayList:we(n,e.searchString)});case z:var r=e.masterListArray.map((function(e){return e.productId===t.id&&(e.isSelected=!e.isSelected),e}));return Object(Ce.a)(Object(Ce.a)({},e),{},{masterListArray:r,displayList:we(r,e.searchString)});case _:var i=e.masterListArray.filter((function(e){return e.isSelected}));return Object(Ce.a)(Object(Ce.a)({},e),{},{selectedItems:i});case M:return Object(Ce.a)(Object(Ce.a)({},e),{},{searchString:t.value,displayList:we(e.masterListArray,t.value)});default:return e}};function we(e,t){var a;if(""===t)a=Object(Le.a)(e);else{var c=t.toLowerCase();a=e.filter((function(e){return e.productName.toLowerCase().includes(c)||e.desc.toLowerCase().includes(c)||e.category.toLowerCase().includes(c)}))}return a}var Ae=function(){var e=Object(c.useReducer)(Ne,Ie),t=Object(s.a)(e,2),a=t[0],r=t[1],i=n.a.useState(!0),l=Object(s.a)(i,2),j=l[0],h=l[1];return Object(c.useEffect)((function(){try{fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){console.log(e),r({type:W,items:e})})).catch((function(){r({type:G})}))}catch(e){console.log("failed to fetch data",e),r({type:G})}}),[]),Object(c.useEffect)((function(){r({type:_})}),[j]),Object(L.jsx)(d.a,{children:Object(L.jsxs)("div",{children:[Object(L.jsx)(Se,{isHome:j,setCurrentPage:h}),Object(L.jsxs)(o.c,{children:[Object(L.jsx)(o.a,{path:"/cart",exact:!0,children:Object(L.jsx)(Y,{state:a,dispatch:r})}),Object(L.jsx)(o.a,{path:"/",exact:!0,children:Object(L.jsx)(fe,{state:a,dispatch:r})})]})]})})},ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,271)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))};i.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(Ae,{})}),document.getElementById("root")),ke()}},[[166,1,2]]]);
//# sourceMappingURL=main.48f4c4c8.chunk.js.map